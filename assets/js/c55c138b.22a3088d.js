"use strict";(self.webpackChunksolus_help_center=self.webpackChunksolus_help_center||[]).push([[7465],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(a),u=i,d=m["".concat(s,".").concat(u)]||m[u]||g[u]||r;return a?n.createElement(d,o(o({ref:t},p),{},{components:a})):n.createElement(d,o({ref:t},p))}));function d(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},3017:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(7462),i=(a(7294),a(3905));const r={title:"Packaging Changes",summary:"Changes to packaging environment and instructions",sidebar_position:7},o="Packaging Changes",l={unversionedId:"packaging/packaging-changes",id:"packaging/packaging-changes",title:"Packaging Changes",description:"This page is meant to serve as a changelog of sorts for the Solus packaging environment and the packaging instructions. Refer to specific help pages for more details.",source:"@site/docs/packaging/packaging-changes.md",sourceDirName:"packaging",slug:"/packaging/packaging-changes",permalink:"/docs/packaging/packaging-changes",draft:!1,editUrl:"https://github.com/getsolus/help-center-docs/tree/master/docs/packaging/packaging-changes.md",tags:[],version:"current",lastUpdatedAt:1697034728,formattedLastUpdatedAt:"Oct 11, 2023",sidebarPosition:7,frontMatter:{title:"Packaging Changes",summary:"Changes to packaging environment and instructions",sidebar_position:7},sidebar:"packagingSidebar",previous:{title:"Submitting a Pull Request for Review",permalink:"/docs/packaging/submitting-a-pull-request"},next:{title:"Advanced Configuration",permalink:"/docs/category/advanced-configuration"}},s={},c=[{value:"Upcoming",id:"upcoming",level:2},{value:"Requiring <code>homepage</code> in <code>package.yml</code>",id:"requiring-homepage-in-packageyml",level:4},{value:"2023",id:"2023",level:2},{value:"October",id:"october",level:3},{value:"Recommending amending commits in Pull Requests",id:"recommending-amending-commits-in-pull-requests",level:4},{value:"September",id:"september",level:3},{value:"Switching From <code>make</code> to <code>go-task</code>",id:"switching-from-make-to-go-task",level:4},{value:"GitHub Monorepo Migration",id:"github-monorepo-migration",level:4},{value:"August",id:"august",level:3},{value:"Initial GitHub Migration from old Phabricator Dev Tracker",id:"initial-github-migration-from-old-phabricator-dev-tracker",level:4},{value:"April",id:"april",level:3},{value:"2022 and Earlier",id:"2022-and-earlier",level:2}],p={toc:c},m="wrapper";function g(e){let{components:t,...a}=e;return(0,i.kt)(m,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"packaging-changes"},"Packaging Changes"),(0,i.kt)("p",null,"This page is meant to serve as a changelog of sorts for the Solus packaging environment and the packaging instructions. Refer to specific help pages for more details."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"This list is not exhaustive"),(0,i.kt)("li",{parentName:"ul"},"This list is in ",(0,i.kt)("em",{parentName:"li"},"reverse chronological order")," (newest first)")),(0,i.kt)("h2",{id:"upcoming"},"Upcoming"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"These items are not mandatory yet, and are subject to change")),(0,i.kt)("h4",{id:"requiring-homepage-in-packageyml"},"Requiring ",(0,i.kt)("inlineCode",{parentName:"h4"},"homepage")," in ",(0,i.kt)("inlineCode",{parentName:"h4"},"package.yml")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"homepage")," key in ",(0,i.kt)("inlineCode",{parentName:"li"},"package.yml")," will become mandatory. If a package does not have a homepage, use the address for the upstream source."),(0,i.kt)("li",{parentName:"ul"},"We are exploring how to enforce this; for now we will ask nicely.")),(0,i.kt)("h2",{id:"2023"},"2023"),(0,i.kt)("h3",{id:"october"},"October"),(0,i.kt)("h4",{id:"recommending-amending-commits-in-pull-requests"},"Recommending amending commits in Pull Requests"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Amending commits and force pushing the changes works better with our build tooling.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"It was thought that abandoning this practice would be okay, but it turns out not to be the case.")))),(0,i.kt)("h3",{id:"september"},"September"),(0,i.kt)("h4",{id:"switching-from-make-to-go-task"},"Switching From ",(0,i.kt)("inlineCode",{parentName:"h4"},"make")," to ",(0,i.kt)("inlineCode",{parentName:"h4"},"go-task")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"All packaging actions are now handled by ",(0,i.kt)("inlineCode",{parentName:"li"},"go-task")," rather than ",(0,i.kt)("inlineCode",{parentName:"li"},"make"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Building a package can be done using ",(0,i.kt)("inlineCode",{parentName:"li"},"go-task")," rather than ",(0,i.kt)("inlineCode",{parentName:"li"},"make"),"."),(0,i.kt)("li",{parentName:"ul"},"Commands are the same: ",(0,i.kt)("inlineCode",{parentName:"li"},"make local"),", for example, is replaced by ",(0,i.kt)("inlineCode",{parentName:"li"},"go-task local"),"."),(0,i.kt)("li",{parentName:"ul"},"You can see all available commands by either browsing to ",(0,i.kt)("inlineCode",{parentName:"li"},"Taskfile.yml")," in the ",(0,i.kt)("inlineCode",{parentName:"li"},"packages")," repo at ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/getsolus/packages/blob/main/common/Taskfile.yml"},(0,i.kt)("inlineCode",{parentName:"a"},"common/Taskfile.yml"))," OR running ",(0,i.kt)("inlineCode",{parentName:"li"},"go-task -l")," somewhere in your updated clone of the packages git monorepo."))),(0,i.kt)("li",{parentName:"ul"},"Packagers should install ",(0,i.kt)("inlineCode",{parentName:"li"},"go-task")," on their machines if they have not already."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"Makefile")," included with every package is no longer required. Please delete it from a package when updating, and do not include it when making the initial commit of a new package.")),(0,i.kt)("h4",{id:"github-monorepo-migration"},"GitHub Monorepo Migration"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Packages were moved from the initial multirepo setup to the ",(0,i.kt)("inlineCode",{parentName:"li"},"packages")," monorepo: ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/getsolus/packages"},"github.com/getsolus/packages")," Now packagers only need to clone/fork one repository for all packages."),(0,i.kt)("li",{parentName:"ul"},"The recommended migration strategy is to fork this repository and start with a clean clone. Any local changes to packages should be moved over manually."),(0,i.kt)("li",{parentName:"ul"},"Packagers should now title commits like ",(0,i.kt)("inlineCode",{parentName:"li"},"packagename: Action"),"; for example: ",(0,i.kt)("inlineCode",{parentName:"li"},"nano: Update to 9.0"),". Generic titles like ",(0,i.kt)("inlineCode",{parentName:"li"},"Update to 9.0")," should not be used, except for rebuilds."),(0,i.kt)("li",{parentName:"ul"},"Packagers should use the pull request template for package updates, filling out the Summary and Test Plan sections as usual.")),(0,i.kt)("h3",{id:"august"},"August"),(0,i.kt)("h4",{id:"initial-github-migration-from-old-phabricator-dev-tracker"},"Initial GitHub Migration from old Phabricator Dev Tracker"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("em",{parentName:"li"},"This change was superseded by the later monorepo migration.")),(0,i.kt)("li",{parentName:"ul"},"The new multirepo setup for packages was under ",(0,i.kt)("inlineCode",{parentName:"li"},"github.com/solus-packages")," organization, packages were updated with PRs to individual repositories."),(0,i.kt)("li",{parentName:"ul"},"Issues were migrated to ",(0,i.kt)("inlineCode",{parentName:"li"},"github.com/getsolus/packages")," from Phabricator. ",(0,i.kt)("em",{parentName:"li"},"Closed issues were not migrated.")),(0,i.kt)("li",{parentName:"ul"},"A read-only instance of the old Dev Tracker is available at ",(0,i.kt)("a",{parentName:"li",href:"https://phab.getsol.us"},"phab.getsol.us"),". ",(0,i.kt)("em",{parentName:"li"},"This will eventually be shut down."))),(0,i.kt)("h3",{id:"april"},"April"),(0,i.kt)("p",null,"The repository index was moved to ",(0,i.kt)("inlineCode",{parentName:"p"},"cdn.getsol.us"),"."),(0,i.kt)("h2",{id:"2022-and-earlier"},"2022 and Earlier"),(0,i.kt)("p",null,"Not included in this list."))}g.isMDXComponent=!0}}]);